import{r as n,j as s}from"./index-403726c9.js";function w(){const[l,c]=n.useState([]),[o,r]=n.useState([]),[u,v]=n.useState(""),[d,S]=n.useState(""),[m,f]=n.useState(""),[h,j]=n.useState("");n.useEffect(()=>{fetch("/questions.txt").then(e=>e.json()).then(e=>c(e)).catch(e=>console.error(e))},[]);const b=e=>{r(t=>t.find(a=>a.question===e.question)?t.filter(a=>a.question!==e.question):[...t,e])},g=()=>{if(!h.trim()){alert("Por favor, dê um nome para a prova.");return}let e=JSON.parse(localStorage.getItem("tests"))||[];const t={name:h,questions:o};e.push(t),localStorage.setItem("tests",JSON.stringify(e)),alert("Prova criada com sucesso!"),r([]),j("")},p=e=>{const t=e.target.value,a=e.target.name;a==="subject"?v(t):a==="level"?S(t):a==="topic"&&f(t)};let i=l,x;if(u){const e=l.filter(t=>t.subject===u);x=new Set(e.map(t=>t.topic))}else x=new Set(l.map(e=>e.topic));d&&(i=i.filter(e=>e.level===d)),m&&(i=i.filter(e=>e.topic===m));const N=new Set(l.map(e=>e.subject)),C=new Set(l.map(e=>e.level));return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl mb-4",children:"Selecione as questões para a prova"}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("label",{children:["Filtro de matéria:",s.jsxs("select",{name:"subject",value:u,onChange:p,className:"ml-2",children:[s.jsx("option",{value:"",children:"--Selecione--"}),[...N].map(e=>s.jsx("option",{value:e,children:e},e))]})]}),s.jsxs("label",{className:"ml-4",children:["Filtro de nível:",s.jsxs("select",{name:"level",value:d,onChange:p,className:"ml-2",children:[s.jsx("option",{value:"",children:"--Selecione--"}),[...C].map(e=>s.jsx("option",{value:e,children:e},e))]})]}),s.jsxs("label",{className:"ml-4",children:["Filtro de assunto:",s.jsxs("select",{name:"topic",value:m,onChange:p,className:"ml-2",children:[s.jsx("option",{value:"",children:"--Selecione--"}),[...x].map(e=>s.jsx("option",{value:e,children:e},e))]})]})]}),s.jsx("ul",{children:i.map((e,t)=>s.jsxs("li",{className:"mb-4 p-4 border rounded",children:[s.jsx("p",{children:e.question}),s.jsxs("p",{children:["Resposta correta padrão: ",e.answer]}),s.jsx("button",{onClick:()=>b(e),className:`mt-2 px-4 py-2 rounded ${o.find(a=>a.question===e.question)?"bg-red-500":"bg-blue-500"} text-white`,children:o.find(a=>a.question===e.question)?"Desmarcar":"Selecionar"})]},t))}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"mr-2",children:"Nome da Prova:"}),s.jsx("input",{type:"text",value:h,onChange:e=>j(e.target.value),placeholder:"Digite o nome da prova"})]}),s.jsx("button",{onClick:g,className:"mt-6 px-6 py-3 bg-green-500 text-white rounded",children:"Criar Prova"})]})}const q=()=>{const[l,c]=n.useState(!1),o=()=>{c(r=>!r)};return s.jsx(s.Fragment,{children:s.jsxs("div",{children:[s.jsx("button",{onClick:o,className:"mb-4 px-4 py-2 mt-4 ml-4 bg-blue-500 text-white rounded",children:l?"Cancelar criação":"Criar prova"}),l&&s.jsx(w,{})]})})};export{q as default};
